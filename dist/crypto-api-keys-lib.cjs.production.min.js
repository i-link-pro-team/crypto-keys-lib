"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,r,n,i=require("sodium-plus"),o=e(require("create-hash")),s=require("bip39"),a=e(require("base-x")),c=require("bitcoinjs-lib"),u=require("bip32"),h=e(require("bech32")),p=require("bchaddrjs"),f=require("ethereumjs-util"),d=require("eosjs-ecc"),l=require("eosjs"),m=require("ripple-keypairs"),g=require("ripple-address-codec"),v=require("ripple-lib");function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(t=exports.Blockchain||(exports.Blockchain={})).BITCOIN="bitcoin",t.ETHEREUM="ethereum",t.EOS="eos",t.BITCOIN_CASH="bitcoin_cash",t.BITCOIN_SV="bitcoin_sv",t.LITECOIN="litecoin",t.RIPPLE="ripple",t.DOGECOIN="dogecoin",t.EMERCOIN="emercoin",t.DASHCOIN="dashcoin",(r=exports.Network||(exports.Network={})).MAINNET="mainnet",r.TESTNET="testnet",r.REGTEST="regtest",(n=exports.SeedDictionaryLang||(exports.SeedDictionaryLang={})).ENGLISH="english",n.JAPANESE="japanese",n.SPANISH="spanish",n.CHINESE_SIMPLE="chinese_simple",n.CHINESE_TRADITIONAL="chinese_traditional",n.FRENCH="french",n.ITALIAN="italian",n.KOREAN="korean",n.CZECH="czech";var N=function(e,t){if(e<0)throw Error("Skip must be greater or equal than zero");if(t<1)throw Error("Limit must be greater than zero");return Array.from({length:t},(function(t,r){return r+e+1}))},P=function(e){var t=e.split("/");return t.pop(),t.push("{index}"),t.join("/")},y=function(e){return e.split("/").filter((function(e){return"m"===e||-1!=e.indexOf("'")})).join("/")},T=a("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),E=function(e){return Buffer.from(o("sha256").update(e).digest())},S={mainnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128,dustThreshold:546,timeInTransaction:!1},testnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:546,timeInTransaction:!1}},I={mainnet:{messagePrefix:"Litecoin Signed Message:\n",bech32:"ltc",bip32:{public:76067358,private:76066276},pubKeyHash:48,scriptHash:50,wif:176,dustThreshold:0,timeInTransaction:!0},testnet:{messagePrefix:"Litecoin Signed Message:\n",bech32:"tltc",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:500,timeInTransaction:!1,maximumFeeRate:5e4}},A={mainnet:{messagePrefix:"Dogecoin Signed Message:\n",bech32:"xdg",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"Dogecoin Signed Message:\n",bech32:"xdg",bip32:{public:70617039,private:70615956},pubKeyHash:113,scriptHash:196,wif:241,dustThreshold:0,timeInTransaction:!1}},C={mainnet:{messagePrefix:"Emercoin Signed Message:\n",bech32:"emc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128,dustThreshold:5e4,timeInTransaction:!0,maximumFeeRate:5e4},testnet:{messagePrefix:"Emercoin Signed Message:\n",bech32:"emc",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:500,timeInTransaction:!0,maximumFeeRate:5e4},regtest:{messagePrefix:"Emercoin Signed Message:\n",bech32:"emc",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:500,timeInTransaction:!0}},B={mainnet:{messagePrefix:"Dashcoin Signed Message:\n",bech32:"dash",bip32:{public:76067358,private:76066276},pubKeyHash:76,scriptHash:16,wif:204,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"Dashcoin Signed Message:\n",bech32:"dash",bip32:{public:70617039,private:70615956},pubKeyHash:140,scriptHash:19,wif:239,dustThreshold:500,timeInTransaction:!1,maximumFeeRate:5e4}},K={mainnet:{messagePrefix:"unused",bech32:"bsv",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"unused",bech32:"bsvtest",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:128,dustThreshold:0,timeInTransaction:!1}},O={0:{type:"p2pkh",network:"mainnet"},48:{type:"p2pkh",network:"mainnet"},111:{type:"p2pkh",network:"testnet"},5:{type:"p2sh",network:"mainnet"},196:{type:"p2sh",network:"testnet"}},M=function(e){try{return T.decode(e)}catch(e){return null}},H=function(e){try{return h.decode(e)}catch(e){return null}},F=function(){function e(e){var t;this.networks=((t={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.BITCOIN,network:exports.Network.MAINNET,path:"m/44'/0'/0'",config:S.mainnet},t[exports.Network.TESTNET]={blockchain:exports.Blockchain.BITCOIN,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:S.testnet},t),this.networkConfig=this.networks[e].config,this.defaultPath=this.networks[e].path}var t=e.prototype;return t.getPaths=function(){return Object.values(this.networks).map((function(e){return{blockchain:e.blockchain,network:e.network,path:e.path+"/0/0"}}))},t.deriveRecursive=function(e,t){if(t.length){var r=t[0],n=t.slice(1);return this.deriveRecursive(e.derive(r),n)}return e},t.getPrivateKey=function(e){return e.toWIF()},t.getPublicKey=function(e){return e},t.getPath=function(e,t){if(-1!==e.indexOf("m")){if(t)throw new Error("invalid path or key\n use full path(m/44'/194'/0'/0/2) with master key\n use short path(0/2) with master account key");return e}return t?e:this.defaultPath+"/"+e},t.derivateFromPrivate=function(e,t){var r=this,n=u.fromBase58(e,this.networkConfig),i=!1;n.parentFingerprint&&(i=!0);var o=N(t.skip,t.limit),s=P(this.getPath(t.path||"0/0",i));return o.map((function(e){var t=s.replace("{index}",e.toString()),i=n.derivePath(t);return{path:r.getPath(t,!1),address:r.getAddressFromPublic(r.getPublicKey(i.publicKey.toString("hex"))),publicKey:r.getPublicKey(i.publicKey.toString("hex")),privateKey:r.getPrivateKey(i)}}))},t.derivateFromPublic=function(e,t){var r=this,n=u.fromBase58(e,this.networkConfig),i=!1;n.parentFingerprint&&(i=!0);var o=N(t.skip,t.limit),s=P(this.getPath(t.path||"0/0",i));return o.map((function(e){var t=s.replace("{index}",e.toString()),i=t.replace(y(s),"").split("/").filter((function(e){return e})).map((function(e){return parseInt(e)})),o=r.deriveRecursive(n,i);return{path:r.getPath(t,!1),address:r.getAddressFromPublic(r.getPublicKey(o.publicKey.toString("hex"))),publicKey:r.getPublicKey(o.publicKey.toString("hex"))}}))},t.sign=function(e,t,r){void 0===r&&(r=!0);try{if(r){var n,i;try{n=JSON.parse(e),i=JSON.parse(t)}catch(e){throw new Error("Invalid data or key, must be json string")}for(var s,a,u=new c.Psbt({network:this.networkConfig},null),h=x(n.inputs);!(a=h()).done;){var p=a.value;p.type.includes("witness")?u.addInput({hash:p.txId,index:p.n,witnessUtxo:{script:Buffer.from(p.scriptPubKeyHex,"hex"),value:+p.value}}):u.addInput({hash:p.txId,index:p.n,nonWitnessUtxo:Buffer.from(p.hex,"hex")})}for(var f,d=x(n.outputs);!(f=d()).done;){var l=f.value;u.addOutput({address:l.address,value:+l.amount})}for(var m,g=x(n.inputs.entries());!(m=g()).done;){var v=m.value,k=v[0],b=c.ECPair.fromWIF(i[v[1].address],this.networkConfig);u.signInput(k,b),u.validateSignaturesOfInput(k)}return u.finalizeAllInputs(),s=u.extractTransaction().toHex(),Promise.resolve(s)}var w=c.ECPair.fromWIF(t,this.networkConfig),N=o("sha256").update(e).digest("hex");return Promise.resolve(w.sign(Buffer.from(N,"hex")).toString("hex"))}catch(e){return Promise.reject(e)}},t.checkSign=function(e,t,r){var n=c.ECPair.fromPublicKey(Buffer.from(e,"hex"),{network:this.networkConfig}),i=o("sha256").update(t).digest("hex");return n.verify(Buffer.from(i,"hex"),Buffer.from(r,"hex"))},t.getMasterAddressFromSeed=function(e,t){var r=u.fromSeed(Buffer.from(e,"hex"),this.networkConfig),n=r.derivePath(y(t||this.defaultPath));return{masterPrivateKey:r.toBase58(),masterPublicKey:r.neutered().toBase58(),masterAccountPrivateKey:n.toBase58(),masterAccountPublicKey:n.neutered().toBase58()}},t.getPublicFromPrivate=function(e,t){return void 0===t&&(t=!0),(t?c.ECPair.fromWIF(e,this.networkConfig):c.ECPair.fromPrivateKey(Buffer.from(e,"hex"))).publicKey.toString("hex")},t.getAddressFromPublic=function(e,t){var r,n;return t&&"bech32"===t?null!==(n=c.payments.p2wpkh({pubkey:Buffer.from(e,"hex"),network:this.networkConfig}).address)&&void 0!==n?n:"":null!==(r=c.payments.p2pkh({pubkey:Buffer.from(e,"hex"),network:this.networkConfig}).address)&&void 0!==r?r:""},t.isValidAddress=function(e,t){return!!e&&(t?"bech32"===t.toLowerCase()?function(e){var t=H(e);if(!t)return!1;if(void 0==={bc:"mainnet",tb:"testnet",bcrt:"regtest"}[t.prefix])return!1;var r=t.words[0];return!(r<0||r>16)}(e):"base58"===t.toLowerCase()&&function(e){var t=M(e);if(!t)return!1;var r=t.length;if(25!==r)return!1;var n=t.readUInt8(0),i=t.slice(r-4,r),o=t.slice(0,r-4),s=E(E(o)).slice(0,4);return!!i.equals(s)&&!!O[n]}(e):this.isValidAddress(e,this.getFormat(e)))},t.getFormat=function(e){if(M(e))return"base58";if(H(e))return"bech32";throw new Error("Invalid address")},e}(),j=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t}(F),R=function(e){function t(t){var r;return(r=e.call(this,t)||this).networkConfig=r.networks[t].config,r.defaultPath=r.networks[t].path,r}return b(t,e),t.prototype.sign=function(e,t){try{var r,n;try{r=JSON.parse(e);var i=JSON.parse(t);n=Object.values(i)}catch(e){throw new Error("data must be a JSON string: "+e.toLocaleString())}var o={inputs:r.inputs.map((function(e){if(void 0===e.scriptPubKeyHex||void 0===e.txId||void 0===e.value||void 0===e.n)throw new Error("Wrong input: "+JSON.stringify(e));return{txId:e.txId,index:e.n,script:e.scriptPubKeyHex,address:e.address,amount:parseFloat(e.value)}})),outputs:r.outputs.map((function(e){if(void 0===e.amount||void 0===e.address)throw new Error("Wrong output: "+JSON.stringify(e));return{address:e.address,amount:parseFloat(e.amount.toString())}})),sum:parseFloat(r.sum),fee:parseFloat(r.fee),keyPairs:n.map((function(e){return{privateKey:e}}))};return Promise.resolve(c.signBSV(o))}catch(e){return Promise.reject(e)}},t}(F),_=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.BITCOIN_SV,network:exports.Network.MAINNET,path:"m/44'/236'/0'",config:K.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.BITCOIN_SV,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:K.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return b(t,e),t}(R),q=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.BITCOIN_CASH,network:exports.Network.MAINNET,path:"m/44'/145'/0'",config:S.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.BITCOIN_CASH,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:S.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}b(t,e);var r=t.prototype;return r.getAddressFromPublic=function(t,r){var n=e.prototype.getAddressFromPublic.call(this,t),i=p.toCashAddress(n);return"legacy"===r&&(i=n),"bitpay"===r&&(i=p.toBitpayAddress(i)),i},r.isValidAddress=function(e){return p.isValidAddress(e)},t}(R),L=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.LITECOIN,network:exports.Network.MAINNET,path:"m/44'/2'/0'",config:I.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.LITECOIN,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:I.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return b(t,e),t}(F),D=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.DOGECOIN,network:exports.Network.MAINNET,path:"m/44'/3'/0'",config:A.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.DOGECOIN,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:A.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return b(t,e),t}(F),J=require("ethereumjs-tx").Transaction,V=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.ETHEREUM,network:exports.Network.MAINNET,path:"m/44'/60'/0'",config:S.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.ETHEREUM,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:S.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n.net=t,n}b(t,e);var r=t.prototype;return r.getPublicFromPrivate=function(t){return f.addHexPrefix(e.prototype.getPublicFromPrivate.call(this,t.replace("0x",""),!1))},r.getPrivateKey=function(e){if(e.privateKey)return f.bufferToHex(e.privateKey);throw new Error("Invalid private key")},r.getPublicKey=function(e){return f.addHexPrefix(e)},r.getAddressFromPublic=function(e){var t=f.importPublic(Buffer.from(e.replace("0x",""),"hex")),r=f.publicToAddress(t),n=f.addHexPrefix(r.toString("hex")),i=f.toChecksumAddress(n);return f.addHexPrefix(i)},r.sign=function(e,t,r){void 0===r&&(r=!0);try{if(r){var n=Object.values(JSON.parse(t))[0].toString(),i=this.net===exports.Network.MAINNET?"mainnet":"ropsten",o=JSON.parse(e),s=new J(o,{chain:i}),a=Buffer.from(n.replace("0x",""),"hex");return s.sign(a),Promise.resolve("0x"+s.serialize().toString("hex"))}var c=f.hashPersonalMessage(Buffer.from(e)),u=f.ecsign(c,Buffer.from(t.replace("0x",""),"hex"));return Promise.resolve(JSON.stringify({r:u.r.toString("hex"),s:u.s.toString("hex"),v:u.v}))}catch(e){return Promise.reject(e)}},r.checkSign=function(e,t,r){var n=JSON.parse(r);return f.isValidSignature(parseInt(n.v),Buffer.from(n.r,"hex"),Buffer.from(n.s,"hex"))},r.isValidAddress=function(e){return f.isValidAddress(e)},t}(F),W=require("eosjs/dist/eosjs-jssig").JsSignatureProvider,U=require("node-fetch"),z=require("util"),G=z.TextEncoder,X=z.TextDecoder,Z={bitcoin:j,litecoin:L,bitcoin_sv:_,bitcoin_cash:q,ethereum:V,eos:function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.EOS,network:exports.Network.MAINNET,path:"m/44'/194'/0'",config:S.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.EOS,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:S.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}b(t,e);var r=t.prototype;return r.getPublicFromPrivate=function(e){return d.privateToPublic(e)},r.getPrivateKey=function(e){return d.PrivateKey(e.privateKey).toWif()},r.getPublicKey=function(e){return d.PublicKey(Buffer.from(e,"hex")).toString()},r.getAddressFromPublic=function(e){return e},r.sign=function(e,t,r){try{var n=function(r){return i?r:d.sign(e,t)},i=!1,o=function(){if(r){var n=Object.values(JSON.parse(t))[0],o=new W([n]),s=new l.JsonRpc(JSON.parse(e).endpoint,{fetch:U}),a=new l.Api({rpc:s,signatureProvider:o,textDecoder:new X,textEncoder:new G});return Promise.resolve(a.transact({actions:JSON.parse(e).actions},{broadcast:!1,sign:!0,blocksBehind:3,expireSeconds:3600})).then((function(e){return e.serializedTransaction=Buffer.from(e.serializedTransaction).toString("hex"),i=!0,JSON.stringify(e)}))}}();return Promise.resolve(o&&o.then?o.then(n):n(o))}catch(e){return Promise.reject(e)}},r.checkSign=function(e,t,r){return d.verify(r,t,e)},r.isValidAddress=function(e){return new RegExp(/^[a-z1-5\.]{12}$/g).test(e)},t}(F),ripple:function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.RIPPLE,network:exports.Network.MAINNET,path:"m/44'/144'/0'",config:S.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.RIPPLE,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:S.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}b(t,e);var r=t.prototype;return r.getPrivateKey=function(e){return e.privateKey.toString("hex")},r.getAddressFromPublic=function(e,t){var r=m.deriveAddress(e);if("classic"===t)return r;var n=g.classicAddressToXAddress(r,!1,!1);if(void 0===n)throw new Error("Unknown error deriving address");return n},r.sign=function(e,t,r){try{var n=function(r){if(i)return r;var n=c.ECPair.fromWIF(t,s.networkConfig),a=o("sha256").update(e).digest("hex");if(n.privateKey)return m.sign(a,n.privateKey.toString("hex"));throw Error("Invalid private key")},i=!1,s=this,a=function(){if(r)return Promise.resolve(new v.RippleAPI).then((function(r){var n=Object.values(JSON.parse(t))[0].toString(),o=s.getPublicFromPrivate(n,!1),a={privateKey:n.toUpperCase(),publicKey:o.toUpperCase()};return i=!0,r.sign(e,a).signedTransaction}))}();return Promise.resolve(a&&a.then?a.then(n):n(a))}catch(e){return Promise.reject(e)}},r.checkSign=function(e,t,r){var n=o("sha256").update(t).digest("hex");return m.verify(n,r,e)},r.isValidAddress=function(e){return g.isValidXAddress(e)||g.isValidClassicAddress(e)},t}(F),dogecoin:D,emercoin:function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.EMERCOIN,network:exports.Network.MAINNET,path:"m/44'/6'/0'",config:C.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.EMERCOIN,network:exports.Network.TESTNET,path:"m/44'/6'/0'",config:C.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return b(t,e),t}(F),dashcoin:function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.DASHCOIN,network:exports.Network.MAINNET,path:"m/44'/5'/0'",config:B.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.DASHCOIN,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:B.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return b(t,e),t}(F)};exports.Keys=function(){function e(e,t){if(!Z[e])throw new Error("Blockchain "+e+" not implemented yet!");this.lib=new Z[e](t)}var t=e.prototype;return t.getMasterFromSeed=function(e,t,r){var n=function(e,t){return s.mnemonicToSeedSync(e,t).toString("hex")}(e,r);return k({seedPhrase:e,seed:n},this.lib.getMasterAddressFromSeed(n,t))},t.isSeed=function(e){return void 0!==e.seedPhrase},t.isMasterPrivate=function(e){return void 0!==e.masterPrivateKey},t.generateSeedPhrase=function(e,t,r,n){void 0===t&&(t=exports.SeedDictionaryLang.ENGLISH);var i=function(e,t){void 0===t&&(t="english");var r=128;if(24===e)r=256;else if(12!==e)throw new Error("Wrong mnemonic length");return s.setDefaultWordlist(t),s.generateMnemonic(r)}(e,t);return this.getMasterFromSeed(i,r,n)},t.getDataFromSeed=function(e,t,r){return this.getMasterFromSeed(e,t,r)},t.derivateKeys=function(e,t){if(this.isSeed(e)){var r=this.getMasterFromSeed(e.seedPhrase,e.password);return t.path&&-1!==t.path.indexOf("m")?this.lib.derivateFromPrivate(r.masterPrivateKey,t):this.lib.derivateFromPrivate(r.masterAccountPrivateKey,t)}return this.isMasterPrivate(e)?this.lib.derivateFromPrivate(e.masterPrivateKey,t):this.lib.derivateFromPublic(e.masterPublicKey,t)},t.sign=function(e,t,r){void 0===r&&(r=!0);try{return Promise.resolve(this.lib.sign(e,t,r))}catch(e){return Promise.reject(e)}},t.getPublicFromPrivate=function(e){return this.lib.getPublicFromPrivate(e)},t.getAddressFromPublic=function(e,t){return this.lib.getAddressFromPublic(e,t)},t.checkSign=function(e,t,r){return this.lib.checkSign(e,t,r)},t.checkSeedPhrase=function(e){return s.validateMnemonic(e)},t.getDefaultPaths=function(){return this.lib.getPaths()},t.isValidAddress=function(e,t){return this.lib.isValidAddress(e,t)},t.getFormat=function(e){return this.lib.getFormat(e)},e.decrypt=function(e,t){try{return Promise.resolve(i.SodiumPlus.auto()).then((function(r){var n=o("sha256").update(t).digest("hex"),s=i.CryptographyKey.from(n,"hex"),a=Buffer.from(e.substring(0,48),"hex"),c=Buffer.from(e.substring(48),"hex");return Promise.resolve(r.crypto_secretbox_open(c,a,s)).then((function(e){return e.toString("utf-8")}))}))}catch(e){return Promise.reject(e)}},e.encrypt=function(e,t){try{return Promise.resolve(i.SodiumPlus.auto()).then((function(r){var n=o("sha256").update(t).digest("hex"),s=i.CryptographyKey.from(n,"hex");return Promise.resolve(r.randombytes_buf(24)).then((function(t){return Promise.resolve(r.crypto_secretbox(e,t,s)).then((function(e){return t.toString("hex")+e.toString("hex")}))}))}))}catch(e){return Promise.reject(e)}},e}();
//# sourceMappingURL=crypto-api-keys-lib.cjs.production.min.js.map
