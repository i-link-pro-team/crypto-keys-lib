"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,r,n,i,o=require("sodium-plus"),a=e(require("create-hash")),s=require("bip39"),u=e(require("base-x")),c=require("@polkadot/util-crypto"),h=require("@polkadot/util"),p=require("bitcoinjs-lib"),f=require("bip32"),l=e(require("bech32")),d=e(require("wallet-address-validator")),g=require("ethereumjs-util"),v=require("@ethereumjs/tx"),m=require("@ethereumjs/common"),y=e(m),b=require("eosjs-ecc"),x=require("eosjs"),w=require("ripple-keypairs"),k=require("ripple-address-codec"),T=require("ripple-lib"),S=require("@polkadot/keyring"),P=require("@polkadot/api"),N=e(require("ethereumjs-common")),A=require("ethereumjs-tx"),E=require("elliptic"),K=require("ethers");function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=Object.create((t&&t.prototype instanceof p?t:p).prototype),o=new T(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function p(){}function f(){}function l(){}var d={};s(d,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&r.call(v,i)&&(d=v);var m=l.prototype=p.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var h=u.arg,p=h.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(p).then((function(e){h.value=e,a(h)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=l,s(m,"constructor",l),s(l,"constructor",f),f.displayName=s(l,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,s(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new b(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function I(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){I(o,n,i,a,s,"next",e)}function s(e){I(o,n,i,a,s,"throw",e)}a(void 0)}))}}function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function C(e,t){var r,n;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r=e,n=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(r,n)}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return H(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t=exports.Blockchain||(exports.Blockchain={})).BTC="bitcoin",t.ETH="ethereum",t.EOS="eos",t.BCH="bitcoin_cash",t.BSV="bitcoin_sv",t.LTC="litecoin",t.XRP="ripple",t.DOGE="dogecoin",t.DASH="dashcoin",t.DOT="polkadot",t.BSC="binance_smart_chain",t.TRX="tron",(r=exports.Network||(exports.Network={})).MAINNET="mainnet",r.TESTNET="testnet",r.REGTEST="regtest",(n=exports.SeedDictionaryLang||(exports.SeedDictionaryLang={})).ENGLISH="english",n.JAPANESE="japanese",n.SPANISH="spanish",n.CHINESE_SIMPLE="chinese_simple",n.CHINESE_TRADITIONAL="chinese_traditional",n.FRENCH="french",n.ITALIAN="italian",n.KOREAN="korean",n.CZECH="czech",(i=exports.TransactionMethod||(exports.TransactionMethod={})).TRANSFER="TRANSFER",i.BOND="BOND",i.BOND_EXTRA_AMOUNT="BOND_EXTRA_AMOUNT",i.UNBOND_AMOUNT="UNBOND_AMOUNT",i.CHANGE_REWARDS_DESTINATION_ADDRESS="CHANGE_REWARDS_DESTINATION_ADDRESS",i.TRANSFER_KEEP_ALIVE="TRANSFER_KEEP_ALIVE",i.NOMINATE="NOMINATE",i.WITHDRAW_UNBONDED="WITHDRAW_UNBONDED";for(var D=function(e,t,r){return r===exports.Blockchain.DOT?h.u8aToHex(c.mnemonicToMiniSecret(e,t)):s.mnemonicToSeedSync(e,t).toString("hex")},_=function(e,t){void 0===t&&(t="english");var r=128;if(24===e)r=256;else if(12!==e)throw new Error("Wrong mnemonic length");return s.setDefaultWordlist(t),s.generateMnemonic(r)},R=function(e,t){if(e<0)throw Error("Skip must be greater or equal than zero");if(t<1)throw Error("Limit must be greater than zero");return Array.from({length:t},(function(t,r){return r+e+1}))},L=function(e){var t=e.split("/");return t.pop(),t.push("{index}"),t.join("/")},j=function(e){return e.split("/").filter((function(e){return"m"===e||-1!=e.indexOf("'")})).join("/")},U=u("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),q=function(e){return Buffer.from(a("sha256").update(e).digest())},J={mainnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128,dustThreshold:546,timeInTransaction:!1},testnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:546,timeInTransaction:!1}},W={mainnet:{messagePrefix:"Litecoin Signed Message:\n",bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"Litecoin Signed Message:\n",bech32:"tltc",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:500,timeInTransaction:!1,maximumFeeRate:5e4}},G={mainnet:{messagePrefix:"Dogecoin Signed Message:\n",bech32:"xdg",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"Dogecoin Signed Message:\n",bech32:"xdg",bip32:{public:70617039,private:70615956},pubKeyHash:113,scriptHash:196,wif:241,dustThreshold:0,timeInTransaction:!1}},V={mainnet:{messagePrefix:"Dashcoin Signed Message:\n",bech32:"dash",bip32:{public:76067358,private:76066276},pubKeyHash:76,scriptHash:16,wif:204,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"Dashcoin Signed Message:\n",bech32:"dash",bip32:{public:70617039,private:70615956},pubKeyHash:140,scriptHash:19,wif:239,dustThreshold:500,timeInTransaction:!1,maximumFeeRate:5e4}},X={mainnet:{messagePrefix:"unused",bech32:"dot",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"unused",bech32:"dot",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:128,dustThreshold:0,timeInTransaction:!1}},z={mainnet:{messagePrefix:"TRON Signed Message:\n32",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:65,scriptHash:5,wif:128,dustThreshold:0,timeInTransaction:!1},testnet:{messagePrefix:"TRON Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:65,scriptHash:5,wif:128,dustThreshold:0,timeInTransaction:!1}},Y={0:{type:"p2pkh",network:"mainnet"},48:{type:"p2pkh",network:"mainnet"},111:{type:"p2pkh",network:"testnet"},5:{type:"p2sh",network:"mainnet"},196:{type:"p2sh",network:"testnet"}},Z=function(e){try{return U.decode(e)}catch(e){return null}},Q=function(e){try{return l.decode(e)}catch(e){return null}},$=function(){function e(e){var t;this.networks=((t={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.BTC,network:exports.Network.MAINNET,path:"m/44'/0'/0'",config:J.mainnet},t[exports.Network.TESTNET]={blockchain:exports.Blockchain.BTC,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:J.testnet},t),this.networkConfig=this.networks[e].config,this.defaultPath=this.networks[e].path}var t=e.prototype;return t.getPaths=function(){return Object.values(this.networks).map((function(e){return{blockchain:e.blockchain,network:e.network,path:e.path+"/0/0"}}))},t.deriveRecursive=function(e,t){if(t.length){var r=t[0],n=t.slice(1);return this.deriveRecursive(e.derive(r),n)}return e},t.getPrivateKey=function(e){return e.toWIF()},t.getPublicKey=function(e){return e},t.getPath=function(e,t){if(-1!==e.indexOf("m")){if(t)throw new Error("invalid path or key\n use full path(m/44'/194'/0'/0/2) with master key\n use short path(0/2) with master account key");return e}return t?e:this.defaultPath+"/"+e},t.derivateFromPrivate=function(e,t){var r=this,n=f.fromBase58(e,this.networkConfig),i=!1;n.parentFingerprint&&(i=!0);var o=R(t.skip,t.limit),a=L(this.getPath(t.path||"0/0",i));return o.map((function(e){var t=a.replace("{index}",e.toString()),i=n.derivePath(t);return{path:r.getPath(t,!1),address:r.getAddressFromPublic(r.getPublicKey(i.publicKey.toString("hex"))),publicKey:r.getPublicKey(i.publicKey.toString("hex")),privateKey:r.getPrivateKey(i)}}))},t.derivateFromPublic=function(e,t){var r=this,n=f.fromBase58(e,this.networkConfig),i=!1;n.parentFingerprint&&(i=!0);var o=R(t.skip,t.limit),a=L(this.getPath(t.path||"0/0",i));return o.map((function(e){var t=a.replace("{index}",e.toString()),i=t.replace(j(a),"").split("/").filter((function(e){return e})).map((function(e){return parseInt(e)})),o=r.deriveRecursive(n,i);return{path:r.getPath(t,!1),address:r.getAddressFromPublic(r.getPublicKey(o.publicKey.toString("hex"))),publicKey:r.getPublicKey(o.publicKey.toString("hex"))}}))},t.sign=function(){var e=F(O().mark((function e(t,r,n){var i,o,s,u,c,h,f,l,d,g,v,m,y,b,x,w,k;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),!n){e.next=18;break}e.prev=2,i=JSON.parse(t),o=JSON.parse(r),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error("Invalid data or key, must be json string");case 10:for(u=new p.Psbt({network:this.networkConfig},null),c=M(i.inputs);!(h=c()).done;)(f=h.value).type.includes("witness")?u.addInput({hash:f.txId,index:f.n,witnessUtxo:{script:Buffer.from(f.scriptPubKeyHex,"hex"),value:+f.value}}):u.addInput({hash:f.txId,index:f.n,nonWitnessUtxo:Buffer.from(f.hex,"hex")});for(l=M(i.outputs);!(d=l()).done;)u.addOutput({address:(g=d.value).address,value:+g.amount});for(v=M(i.inputs.entries());!(m=v()).done;)b=(y=m.value)[0],x=p.ECPair.fromWIF(o[y[1].address],this.networkConfig),u.signInput(b,x),u.validateSignaturesOfInput(b);return u.finalizeAllInputs(),s=u.extractTransaction().toHex(),e.abrupt("return",s);case 18:return w=p.ECPair.fromWIF(r,this.networkConfig),k=a("sha256").update(t).digest("hex"),e.abrupt("return",w.sign(Buffer.from(k,"hex")).toString("hex"));case 21:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),t.checkSign=function(e,t,r){var n=p.ECPair.fromPublicKey(Buffer.from(e,"hex"),{network:this.networkConfig}),i=a("sha256").update(t).digest("hex");return n.verify(Buffer.from(i,"hex"),Buffer.from(r,"hex"))},t.getMasterAddressFromSeed=function(){var e=F(O().mark((function e(t,r){var n,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.fromSeed(Buffer.from(t,"hex"),this.networkConfig),i=n.derivePath(j(r||this.defaultPath)),e.abrupt("return",{masterPrivateKey:n.toBase58(),masterPublicKey:n.neutered().toBase58(),masterAccountPrivateKey:i.toBase58(),masterAccountPublicKey:i.neutered().toBase58()});case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.getPublicFromPrivate=function(e,t){return void 0===t&&(t=!0),(t?p.ECPair.fromWIF(e,this.networkConfig):p.ECPair.fromPrivateKey(Buffer.from(e,"hex"))).publicKey.toString("hex")},t.getAddressFromPublic=function(e,t){var r,n;return t&&"bech32"===t?null!=(n=p.payments.p2wpkh({pubkey:Buffer.from(e,"hex"),network:this.networkConfig}).address)?n:"":null!=(r=p.payments.p2pkh({pubkey:Buffer.from(e,"hex"),network:this.networkConfig}).address)?r:""},t.isValidAddress=function(e,t){return!!e&&(t?"bech32"===t.toLowerCase()?function(e){var t=Q(e);if(!t)return!1;if(void 0==={bc:"mainnet",tb:"testnet",bcrt:"regtest"}[t.prefix])return!1;var r=t.words[0];return!(r<0||r>16)}(e):"base58"===t.toLowerCase()&&function(e){var t=Z(e);if(!t)return!1;var r=t.length;if(25!==r)return!1;var n=t.readUInt8(0),i=t.slice(r-4,r),o=t.slice(0,r-4),a=q(q(o)).slice(0,4);return!!i.equals(a)&&!!Y[n]}(e):this.isValidAddress(e,this.getFormat(e)))},t.getFormat=function(e){if(Z(e))return"base58";if(Q(e))return"bech32";throw new Error("Invalid address")},e}(),ee=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t}($),te=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.LTC,network:exports.Network.MAINNET,path:"m/44'/2'/0'",config:W.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.LTC,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:W.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return C(t,e),t}($),re=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.DOGE,network:exports.Network.MAINNET,path:"m/44'/3'/0'",config:G.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.DOGE,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:G.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return C(t,e),t.prototype.isValidAddress=function(e,t){return!!e&&(d.validate(e,"DOGE")||d.validate(e,"DOGE","testnet"))},t}($),ne=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.ETH,network:exports.Network.MAINNET,path:"m/44'/60'/0'",config:J.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.ETH,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:J.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n.net=t,n}C(t,e);var r=t.prototype;return r.getPublicFromPrivate=function(t){return g.addHexPrefix(e.prototype.getPublicFromPrivate.call(this,t.replace("0x",""),!1))},r.getPrivateKey=function(e){if(e.privateKey)return g.bufferToHex(e.privateKey);throw new Error("Invalid private key")},r.getPublicKey=function(e){return g.addHexPrefix(e)},r.getAddressFromPublic=function(e){var t=g.importPublic(Buffer.from(e.replace("0x",""),"hex")),r=g.publicToAddress(t),n=g.addHexPrefix(r.toString("hex")),i=g.toChecksumAddress(n);return g.addHexPrefix(i)},r.sign=function(){var e=F(O().mark((function e(t,r,n,i){var o,a,s,u,c,h,p,f,l,d;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),void 0===i&&(i=!0),o=Object.values(JSON.parse(r)),a=o[0],!n){e.next=12;break}return s=this.net===exports.Network.MAINNET?m.Chain.Mainnet:m.Chain.Ropsten,u=new y({chain:s,hardfork:m.Hardfork.London}),c=JSON.parse(t),h=c.gasPrice?v.Transaction.fromTxData(c,{common:u}):v.FeeMarketEIP1559Transaction.fromTxData(c,{common:u}),p=Buffer.from(a.replace("0x",""),"hex"),f=h.sign(p),e.abrupt("return","0x"+f.serialize().toString("hex"));case 12:return l=i?g.hashPersonalMessage(Buffer.from(t)):g.toBuffer(t),d=g.ecsign(l,g.toBuffer(a)),e.abrupt("return",JSON.stringify({r:d.r.toString("hex"),s:d.s.toString("hex"),v:d.v}));case 15:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),r.checkSign=function(e,t,r){var n=JSON.parse(r);return g.isValidSignature(parseInt(n.v),Buffer.from(n.r,"hex"),Buffer.from(n.s,"hex"))},r.isValidAddress=function(e){return g.isValidAddress(e)},t}($),ie=require("eosjs/dist/eosjs-jssig").JsSignatureProvider,oe=require("node-fetch"),ae=require("util"),se=ae.TextEncoder,ue=ae.TextDecoder,ce=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.EOS,network:exports.Network.MAINNET,path:"m/44'/194'/0'",config:J.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.EOS,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:J.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}C(t,e);var r=t.prototype;return r.getPublicFromPrivate=function(e){return b.privateToPublic(e)},r.getPrivateKey=function(e){return b.PrivateKey(e.privateKey).toWif()},r.getPublicKey=function(e){return b.PublicKey(Buffer.from(e,"hex")).toString()},r.getAddressFromPublic=function(e){return e},r.sign=function(){var e=F(O().mark((function e(t,r,n){var i,o,a,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return i=Object.values(JSON.parse(r))[0],o=new ie([i]),a=new x.JsonRpc(JSON.parse(t).endpoint,{fetch:oe}),s=new x.Api({rpc:a,signatureProvider:o,textDecoder:new ue,textEncoder:new se}),e.next=7,s.transact({actions:JSON.parse(t).actions},{broadcast:!1,sign:!0,blocksBehind:3,expireSeconds:3600});case 7:return(u=e.sent).serializedTransaction=Buffer.from(u.serializedTransaction).toString("hex"),e.abrupt("return",JSON.stringify(u));case 10:return e.abrupt("return",b.sign(t,r));case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.checkSign=function(e,t,r){return b.verify(r,t,e)},r.isValidAddress=function(e){return new RegExp(/^[a-z1-5\.]{12}$/g).test(e)},t}($),he=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.XRP,network:exports.Network.MAINNET,path:"m/44'/144'/0'",config:J.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.XRP,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:J.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}C(t,e);var r=t.prototype;return r.getPrivateKey=function(e){return e.privateKey.toString("hex")},r.getAddressFromPublic=function(e,t){var r=w.deriveAddress(e);if("classic"===t)return r;var n=k.classicAddressToXAddress(r,!1,!1);if(void 0===n)throw new Error("Unknown error deriving address");return n},r.sign=function(){var e=F(O().mark((function e(t,r,n){var i,o,s,u,c,h;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,new T.RippleAPI;case 3:return i=e.sent,o=Object.values(JSON.parse(r))[0].toString(),s=this.getPublicFromPrivate(o,!1),u={privateKey:o.toUpperCase(),publicKey:s.toUpperCase()},e.abrupt("return",i.sign(t,u).signedTransaction);case 8:if(c=p.ECPair.fromWIF(r,this.networkConfig),h=a("sha256").update(t).digest("hex"),!c.privateKey){e.next=14;break}return e.abrupt("return",w.sign(h,c.privateKey.toString("hex")));case 14:throw Error("Invalid private key");case 15:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.checkSign=function(e,t,r){var n=a("sha256").update(t).digest("hex");return w.verify(n,r,e)},r.isValidAddress=function(e){return k.isValidXAddress(e)||k.isValidClassicAddress(e)},t}($),pe=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.DASH,network:exports.Network.MAINNET,path:"m/44'/5'/0'",config:V.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.DASH,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:V.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n}return C(t,e),t.prototype.isValidAddress=function(e,t){return!!e&&(d.validate(e,"DASH")||d.validate(e,"DASH","testnet"))},t}($),fe=function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.DOT,network:exports.Network.MAINNET,path:"//44//354//0",config:X.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.DOT,network:exports.Network.TESTNET,path:"//44//1//0",config:X.testnet},r),n.passphrase="restoreKeyRingPassphrase",n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n.network=t,n}C(t,e);var r=t.prototype;return r.getPublicFromPrivate=function(e,t){var r=this.getKeyring().createFromUri("//ANYPATH");return r.decodePkcs8(this.passphrase,h.hexToU8a(e)),h.u8aToHex(r.publicKey)},r.getAddressFromPublic=function(e){return this.getKeyring().addFromAddress(e).address},r.checkSign=function(e,t,r){return this.getKeyring().addFromAddress(e).verify(t,h.stringToU8a(r),e)},r.sign=function(){var e=F(O().mark((function e(t,r,n){var i,o,a,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.cryptoWaitReady();case 2:if(i=Object.values(JSON.parse(r))[0].toString(),(o=this.getKeyring().createFromUri("//ANYPATH")).decodePkcs8(this.passphrase,h.hexToU8a(i)),!n){e.next=13;break}return a=JSON.parse(t),e.next=9,this.createSubmittableExtrinsic(JSON.stringify(a.tx));case 9:return s=this.offlineApi.createType("SignerPayload",B({method:e.sent},a.payload)),u=this.offlineApi.createType("ExtrinsicPayload",s.toPayload(),{version:a.payload.version}).sign(o),e.abrupt("return",JSON.stringify(B({},a,{signature:u.signature})));case 13:return e.abrupt("return",h.u8aToHex(o.sign(t)));case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.getMasterFromSeed=function(){var e=F(O().mark((function e(t,r,n){var i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.u8aToHex(c.mnemonicToMiniSecret(t,n)),e.next=3,this.getMasterAddressFromSeed(i,r);case 3:return e.abrupt("return",B({seedPhrase:t,seed:i},e.sent));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.getMasterAddressFromSeed=function(){var e=F(O().mark((function e(t,r){var n,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.cryptoWaitReady();case 2:return n=this.getKeyring().addFromUri(t),i=this.getKeyring().addFromUri(""+t+(r||this.defaultPath)),e.abrupt("return",{masterPrivateKey:h.u8aToHex(n.encodePkcs8(this.passphrase)),masterPublicKey:h.u8aToHex(n.publicKey),masterAccountPrivateKey:h.u8aToHex(i.encodePkcs8(this.passphrase)),masterAccountPublicKey:h.u8aToHex(i.publicKey)});case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.derivateFromPrivate=function(e,t){var r,n=this,i=this.getKeyring(),o=!0;66===e.length?(o=!1,r=i.addFromSeed(h.hexToU8a(e))):(r=i.createFromUri("//ANYPATH")).decodePkcs8(this.passphrase,h.hexToU8a(e));var a=R(t.skip,t.limit),s=L(this.getPath(t.path||"0/0",o));return a.map((function(e){var t=s.replace("{index}",e.toString()),i=r.derive(t);return{path:t,address:i.address,publicKey:h.u8aToHex(i.publicKey),privateKey:h.u8aToHex(i.encodePkcs8(n.passphrase))}}))},r.getPath=function(e,t){if(-1!==e.indexOf("m")){if(t)throw new Error("invalid path or key\n use full path(m/44'/194'/0'/0/2) with master key\n use short path(0/2) with master account key");var r=e.lastIndexOf("'");return(e=e.slice(0,r)+e.slice(r+1)).replace("m/","//").replace(/'/g,"/")}return t?"/"+e:this.defaultPath+"/"+e},r.isValidAddress=function(e){try{return c.encodeAddress(h.isHex(e)?h.hexToU8a(e):c.decodeAddress(e)),!0}catch(e){return!1}},r.createSubmittableExtrinsic=function(){var e=F(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.cryptoWaitReady();case 2:return e.prev=3,e.next=6,P.ApiPromise.create({provider:new P.WsProvider("ws://3.20.227.6:3020")});case 6:return this.offlineApi=e.sent,e.next=9,this.offlineApi.disconnect();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("createSubmittableExtrinsic error: "+e.t0.message);case 14:r=JSON.parse(t),e.t1=r.method,e.next=e.t1===exports.TransactionMethod.TRANSFER?18:e.t1===exports.TransactionMethod.BOND?19:e.t1===exports.TransactionMethod.BOND_EXTRA_AMOUNT?20:e.t1===exports.TransactionMethod.UNBOND_AMOUNT?21:e.t1===exports.TransactionMethod.CHANGE_REWARDS_DESTINATION_ADDRESS?22:e.t1===exports.TransactionMethod.TRANSFER_KEEP_ALIVE?23:e.t1===exports.TransactionMethod.NOMINATE?24:e.t1===exports.TransactionMethod.WITHDRAW_UNBONDED?25:26;break;case 18:return e.abrupt("return",this.offlineApi.tx.balances.transfer(r.destination,r.amount));case 19:return e.abrupt("return",this.offlineApi.tx.staking.bond(r.controller,r.amount,r.rewardsDestination));case 20:return e.abrupt("return",this.offlineApi.tx.staking.bondExtra(r.amount));case 21:return e.abrupt("return",this.offlineApi.tx.staking.unbond(r.amount));case 22:return e.abrupt("return",this.offlineApi.tx.staking.setPayee(r.rewardsDestination));case 23:return e.abrupt("return",this.offlineApi.tx.balances.transferKeepAlive(r.destination,r.amount));case 24:return e.abrupt("return",this.offlineApi.tx.staking.nominate(r.validators));case 25:return e.abrupt("return",this.offlineApi.tx.staking.withdrawUnbonded(r.numSlashingSpans));case 26:return e.abrupt("return",null);case 27:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),r.getKeyring=function(){var e=this.network===exports.Network.MAINNET?0:42;return new S.Keyring({type:"sr25519",ss58Format:e})},r.derivateFromPublic=function(e,t){throw new Error("Method not implemented for polkadot!")},t}($),le=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t.prototype.sign=function(){var e=F(O().mark((function e(t,r,n){var i,o,a,s,u,c,h,p,f,l;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),!n){e.next=13;break}return i=Object.values(JSON.parse(r))[0].toString(),o="mainnet",a=56,s="london",this.net===exports.Network.TESTNET&&(o="ropsten",a=97,s="petersburg"),u=JSON.parse(t),c=N.forCustomChain(o,{networkId:a,chainId:a},s),h=new A.Transaction(u,{common:c}),p=Buffer.from(i.replace("0x",""),"hex"),h.sign(p),e.abrupt("return","0x"+h.serialize().toString("hex"));case 13:return f=g.hashPersonalMessage(Buffer.from(t)),l=g.ecsign(f,Buffer.from(r.replace("0x",""),"hex")),e.abrupt("return",JSON.stringify({r:l.r.toString("hex"),s:l.s.toString("hex"),v:l.v}));case 16:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t}(ne),de="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ge={},ve=0;ve<de.length;ve++)ge[de.charAt(ve)]=ve;var me={bitcoin:ee,litecoin:te,binance_smart_chain:le,ethereum:ne,eos:ce,ripple:he,dogecoin:re,dashcoin:pe,polkadot:fe,tron:function(e){function t(t){var r,n;return(n=e.call(this,t)||this).networks=((r={})[exports.Network.MAINNET]={blockchain:exports.Blockchain.TRX,network:exports.Network.MAINNET,path:"m/44'/195'/0'",config:z.mainnet},r[exports.Network.TESTNET]={blockchain:exports.Blockchain.TRX,network:exports.Network.TESTNET,path:"m/44'/1'/0'",config:z.testnet},r),n.networkConfig=n.networks[t].config,n.defaultPath=n.networks[t].path,n.net=t,n}C(t,e);var r=t.prototype;return r.sign=function(){var e=F(O().mark((function e(t,r,n){var i,o,a,s,u,c,h,p,f;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),!n){e.next=9;break}return i=Object.values(JSON.parse(r))[0].toString(),o=JSON.parse(t),a=this.hexStr2byteArray(i),s=this.ECKeySign(this.hexStr2byteArray(o.txID),a),Array.isArray(o.signature)?o.signature.includes(s)||o.signature.push(s):o.signature=[s],e.abrupt("return",JSON.stringify(o));case 9:return u=this.hexStr2byteArray(r),c=this.stringToBytes(t),h=this.SHA256(c),p=this.ECKeySign(h,u),f=this.bytesToString(p),e.abrupt("return",f);case 15:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.ECKeySign=function(e,t){for(var r=new E.ec("secp256k1").keyFromPrivate(t,"bytes").sign(e),n=r.s,i=r.recoveryParam,o=r.r.toString("hex");o.length<64;)o="0"+o;for(var a=n.toString("hex");a.length<64;)a="0"+a;return o+a+this.byte2hexStr(i)},r.getPrivateKey=function(e){return e.privateKey.toString("hex")},r.derivateFromPrivate=function(e,t){var r=this,n=f.fromBase58(e,this.networkConfig),i=!1;n.parentFingerprint&&(i=!0);var o=R(t.skip,t.limit),a=L(this.getPath(t.path||"0/0",i));return o.map((function(e){var t=a.replace("{index}",e.toString()),i=n.derivePath(t),o=r.getPubKeyFromPriKey(i.privateKey),s=r.computeAddress(r.hexStr2byteArray(o));return{path:r.getPath(t,!1),address:r.getBase58CheckAddress(s),publicKey:o,privateKey:r.getPrivateKey(i)}}))},r.derivateFromPublic=function(e,t){var r=this,n=f.fromBase58(e,this.networkConfig),i=!1;n.parentFingerprint&&(i=!0);var o=R(t.skip,t.limit),a=L(this.getPath(t.path||"0/0",i));return o.map((function(e){var t=a.replace("{index}",e.toString()),i=t.replace(j(a),"").split("/").filter((function(e){return e})).map((function(e){return parseInt(e)})),o=r.deriveRecursive(n,i),s=r.getTronPubKeyFromPubKey(o.publicKey),u=r.computeAddress(r.hexStr2byteArray(s));return{path:r.getPath(t,!1),address:r.getBase58CheckAddress(u),publicKey:s}}))},r.getPublicFromPrivate=function(e,t){var r=this.hexStr2byteArray(e);return this.getPubKeyFromPriKey(r)},r.getAddressFromPublic=function(e){var t=this.computeAddress(this.hexStr2byteArray(e));return this.getBase58CheckAddress(t)},r.computeAddress=function(e){65===e.length&&(e=e.slice(1));var t="41"+K.utils.keccak256(e).toString().substring(2).substring(24);return this.hexStr2byteArray(t)},r.getTronPubKeyFromPubKey=function(e){for(var t=new E.ec("secp256k1").keyFromPublic(e,"bytes").getPublic(),r=t.y,n=t.x.toString("hex");n.length<64;)n="0"+n;for(var i=r.toString("hex");i.length<64;)i="0"+i;return"04"+n+i},r.isValidAddress=function(e){if("string"!=typeof e)return!1;if(34!==e.length)return!1;var t=this.decode58(e);if(25!==t.length)return!1;if(65!==t[0])return!1;var r=t.slice(21);t=t.slice(0,21);var n=this.SHA256(t),i=this.SHA256(n).slice(0,4);return r[0]==i[0]&&r[1]==i[1]&&r[2]==i[2]&&r[3]==i[3]},r.getPubKeyFromPriKey=function(e){for(var t=new E.ec("secp256k1").keyFromPrivate(e,"bytes").getPublic(),r=t.y,n=t.x.toString("hex");n.length<64;)n="0"+n;for(var i=r.toString("hex");i.length<64;)i="0"+i;return"04"+n+i},r.decode58=function(e){if(0===e.length)return[];var t,r,n=[0];for(t=0;t<e.length;t++){var i=e[t];if(!(i in ge))throw new Error("Non-base58 character");for(r=0;r<n.length;r++)n[r]*=58;n[0]+=ge[i];var o=0;for(r=0;r<n.length;++r)n[r]+=o,o=n[r]>>8,n[r]&=255;for(;o;)n.push(255&o),o>>=8}for(t=0;"1"===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse()},r.encode58=function(e){if(0===e.length)return"";var t,r,n=[0];for(t=0;t<e.length;t++){for(r=0;r<n.length;r++)n[r]<<=8;n[0]+=e[t];var i=0;for(r=0;r<n.length;++r)n[r]+=i,i=n[r]/58|0,n[r]%=58;for(;i;)n.push(i%58),i=i/58|0}for(t=0;0===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse().map((function(e){return de[e]})).join("")},r.SHA256=function(e){var t=this.byteArray2hexStr(e),r=K.utils.sha256("0x"+t).replace(/^0x/,"");return this.hexStr2byteArray(r)},r.byteArray2hexStr=function(e){for(var t="",r=0;r<e.length;r++)t+=this.byte2hexStr(e[r]);return t},r.byte2hexStr=function(e){if("number"!=typeof e)throw new Error("Input must be a number");if(e<0||e>255)throw new Error("Input must be a byte");var t="";return(t+="0123456789ABCDEF".charAt(e>>4))+"0123456789ABCDEF".charAt(15&e)},r.getBase58CheckAddress=function(e){var t=this.SHA256(e),r=this.SHA256(t).slice(0,4);return r=e.concat(r),this.encode58(r)},r.hexStr2byteArray=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("The passed string is not a string");var r=e.length;t&&r%2&&(e="0"+e,r++);for(var n=[],i=0,o=0,a=0,s=0;s<r;s++){var u=e.charAt(s);if(!this.isHexChar(u))throw new Error("The passed hex char is not a valid hex string");i<<=4,i+=this.hexChar2byte(u),0==++o%2&&(n[a++]=i,i=0)}return n},r.isHexChar=function(e){return e>="A"&&e<="F"||e>="a"&&e<="f"||e>="0"&&e<="9"?1:0},r.hexChar2byte=function(e){var t;if(e>="A"&&e<="F"?t=e.charCodeAt(0)-"A".charCodeAt(0)+10:e>="a"&&e<="f"?t=e.charCodeAt(0)-"a".charCodeAt(0)+10:e>="0"&&e<="9"&&(t=e.charCodeAt(0)-"0".charCodeAt(0)),"number"==typeof t)return t;throw new Error("The passed hex char is not a valid hex char")},r.stringToBytes=function(e){if("string"!=typeof e)throw new Error("The passed string is not a string");for(var t,r=[],n=0;n<e.length;n++)(t=e.charCodeAt(n))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);return r},r.bytesToString=function(e){if("string"==typeof e)return e;for(var t="",r=0;r<e.length;r++){var n=e[r].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8===n.length){for(var o=i[0].length,a=e[r].toString(2).slice(7-o),s=1;s<o;s++)a+=e[s+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(a,2)),r+=o-1}else t+=String.fromCharCode(e[r])}return t},t}($)};exports.Keys=function(){function e(e,t){if(this.blockchain=e,!me[e])throw new Error("Blockchain "+e+" not implemented yet!");this.lib=new me[e](t)}var t=e.prototype;return t.getMasterFromSeed=function(){var e=F(O().mark((function e(t,r,n){var i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=D(t,n,this.blockchain),e.next=3,this.lib.getMasterAddressFromSeed(i,r);case 3:return e.abrupt("return",B({seedPhrase:t,seed:i},e.sent));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.isSeed=function(e){return void 0!==e.seedPhrase},t.isMasterPrivate=function(e){return void 0!==e.masterPrivateKey},t.generateSeedPhrase=function(){var e=F(O().mark((function e(t,r,n,i){var o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=exports.SeedDictionaryLang.ENGLISH),o=_(t,r),e.abrupt("return",this.getMasterFromSeed(o,n,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),t.getDataFromSeed=function(){var e=F(O().mark((function e(t,r,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getMasterFromSeed(t,r,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.derivateKeys=function(){var e=F(O().mark((function e(t,r){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isSeed(t)){e.next=13;break}return e.next=3,this.getMasterFromSeed(t.seedPhrase,t.password);case 3:if(n=e.sent,!r.path||-1===r.path.indexOf("m")){e.next=9;break}return console.log("From seed from full path"),e.abrupt("return",this.lib.derivateFromPrivate(n.masterPrivateKey,r));case 9:return console.log("From seed from short path"),e.abrupt("return",this.lib.derivateFromPrivate(n.masterAccountPrivateKey,r));case 11:e.next=18;break;case 13:if(!this.isMasterPrivate(t)){e.next=17;break}return e.abrupt("return",this.lib.derivateFromPrivate(t.masterPrivateKey,r));case 17:return e.abrupt("return",this.lib.derivateFromPublic(t.masterPublicKey,r));case 18:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.sign=function(){var e=F(O().mark((function e(t,r,n,i){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!0),void 0===i&&(i=!0),e.next=4,this.lib.sign(t,r,n,i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),t.getPublicFromPrivate=function(e){return this.lib.getPublicFromPrivate(e)},t.getAddressFromPublic=function(e,t){return this.lib.getAddressFromPublic(e,t)},t.checkSign=function(e,t,r){return this.lib.checkSign(e,t,r)},t.checkSeedPhrase=function(e){return s.validateMnemonic(e)},t.getDefaultPaths=function(){return this.lib.getPaths()},t.isValidAddress=function(e,t){return this.lib.isValidAddress(e,t)},t.getFormat=function(e){return this.lib.getFormat(e)},e.decrypt=function(){var e=F(O().mark((function e(t,r){var n,i,s,u,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.SodiumPlus.auto();case 2:return n=e.sent,i=a("sha256").update(r).digest("hex"),s=o.CryptographyKey.from(i,"hex"),u=Buffer.from(t.substring(0,48),"hex"),c=Buffer.from(t.substring(48),"hex"),e.next=9,n.crypto_secretbox_open(c,u,s);case 9:return e.abrupt("return",e.sent.toString("utf-8"));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.encrypt=function(){var e=F(O().mark((function e(t,r){var n,i,s,u,c,h;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.SodiumPlus.auto();case 2:return n=e.sent,i=a("sha256").update(r).digest("hex"),s=o.CryptographyKey.from(i,"hex"),e.next=7,n.randombytes_buf(24);case 7:return u=e.sent,e.next=10,n.crypto_secretbox(t,u,s);case 10:return c=e.sent,h=u.toString("hex")+c.toString("hex"),e.abrupt("return",h);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e}();
//# sourceMappingURL=crypto-api-keys-lib.cjs.production.min.js.map
