"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,r,i,n=require("bip39"),o=e(require("hdkey")),a=require("bitcoinjs-lib"),s=require("bip32"),c=e(require("create-hash")),u=require("bchaddrjs"),f=require("ethereumjs-util"),h=require("eosjs-ecc"),p=require("ripple-keypairs"),l=require("ripple-address-codec");!function(e){e.BITCOIN="bitcoin",e.ETHEREUM="ethereum",e.EOS="eos",e.BITCOIN_CASH="bitcoin_cash",e.BITCOIN_SV="bitcoin_sv",e.LITECOIN="litecoin",e.RIPPLE="ripple"}(t||(t={})),function(e){e.MAINNET="mainnet",e.TESTNET="testnet"}(r||(r={})),function(e){e.ENGLISH="english",e.JAPANESE="japanese",e.SPANISH="spanish",e.CHINESE_SIMPLE="chinese_simple",e.CHINESE_TRADITIONAL="chinese_traditional",e.FRENCH="french",e.ITALIAN="italian",e.KOREAN="korean",e.CZECH="czech"}(i||(i={}));var g={__proto__:null,get Blockchain(){return t},get Network(){return r},get SeedDictionaryLang(){return i}};function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v=function(e,t){if(e<0)throw Error("Skip must be greater or equal than zero");if(t<1)throw Error("Limit must be greater than zero");return Array.from({length:t},(function(t,r){return r+e+1}))},m=function(e){var t=e.split("/");return t.pop(),t.push("{index}"),t.join("/")},P=function(e){return e.split("/").filter((function(e){return"m"===e||-1!=e.indexOf("'")})).join("/")},k={mainnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},regtest:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},testnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},E={mainnet:{messagePrefix:"Litecoin Signed Message:\n",bech32:"tltc",bip32:{public:76067358,private:76066276},pubKeyHash:48,scriptHash:50,wif:176},testnet:{messagePrefix:"Litecoin Signed Message:\n",bech32:"ltc",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},T={mainnet:{messagePrefix:"unused",bech32:"bsv",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},testnet:{messagePrefix:"unused",bech32:"tbsv",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128}},w=function(){function e(e){var i;this.networks=((i={})[r.MAINNET]={blockchain:t.BITCOIN,network:r.MAINNET,path:"m/44'/0'/0'/0/0",config:k.mainnet},i[r.TESTNET]={blockchain:t.BITCOIN,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:k.testnet},i),this.networkConfig=this.networks[e].config,this.defaultPath=this.networks[e].path}var i=e.prototype;return i.getPaths=function(){return Object.values(this.networks).map((function(e){return{blockchain:e.blockchain,network:e.network,path:e.path}}))},i.deriveRecursive=function(e,t){if(t.length){var r=t[0],i=t.slice(1);return this.deriveRecursive(e.derive(r),i)}return e},i.getPrivateKey=function(e){return e.toWIF()},i.getPublicKey=function(e){return e},i.derivateFromPrivate=function(e,t){var r=this,i=s.fromBase58(e,this.networkConfig),n=v(t.skip,t.limit),o=m(t.path||this.defaultPath);return n.map((function(e){var t=o.replace("{index}",e.toString()),n=i.derivePath(t);return{path:t,address:r.getAddressFromPublic(r.getPublicKey(n.publicKey.toString("hex"))),publicKey:r.getPublicKey(n.publicKey.toString("hex")),privateKey:r.getPrivateKey(n)}}))},i.derivateFromPublic=function(e,t){var r=this,i=s.fromBase58(e,this.networkConfig),n=v(t.skip,t.limit),o=m(t.path||this.defaultPath);return n.map((function(e){var t=o.replace("{index}",e.toString()),n=t.replace(P(o),"").split("/").filter((function(e){return e})).map((function(e){return parseInt(e)})),a=r.deriveRecursive(i,n);return{path:t,address:r.getAddressFromPublic(r.getPublicKey(a.publicKey.toString("hex"))),publicKey:r.getPublicKey(a.publicKey.toString("hex"))}}))},i.sign=function(e,t){var r=a.ECPair.fromWIF(t,this.networkConfig),i=c("sha256").update(e).digest("hex");return r.sign(Buffer.from(i,"hex")).toString("hex")},i.checkSign=function(e,t,r){var i=a.ECPair.fromPublicKey(Buffer.from(e,"hex"),{network:this.networkConfig}),n=c("sha256").update(t).digest("hex");return i.verify(Buffer.from(n,"hex"),Buffer.from(r,"hex"))},i.getMasterAddressFromSeed=function(e,t){var r=o.fromMasterSeed(Buffer.from(e,"hex")),i=r.derive(P(t||this.defaultPath));return{masterPrivateKey:r.toJSON().xpriv,masterPublicKey:i.toJSON().xpub}},i.getPublicFromPrivate=function(e,t){return void 0===t&&(t=!0),(t?a.ECPair.fromWIF(e,this.networkConfig):a.ECPair.fromPrivateKey(Buffer.from(e,"hex"))).publicKey.toString("hex")},i.getAddressFromPublic=function(e,t){var r,i;return t&&"bech32"===t?null!==(i=a.payments.p2wpkh({pubkey:Buffer.from(e,"hex"),network:this.networkConfig}).address)&&void 0!==i?i:"":null!==(r=a.payments.p2pkh({pubkey:Buffer.from(e,"hex"),network:this.networkConfig}).address)&&void 0!==r?r:""},e}(),y=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t}(w),S=function(e){function i(i){var n,o;return(o=e.call(this,i)||this).networks=((n={})[r.MAINNET]={blockchain:t.BITCOIN_SV,network:r.MAINNET,path:"m/44'/236'/0'/0/0",config:T.mainnet},n[r.TESTNET]={blockchain:t.BITCOIN_SV,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:T.testnet},n),o.networkConfig=o.networks[i].config,o.defaultPath=o.networks[i].path,o}return b(i,e),i}(w),N=function(e){function i(i){var n,o;return(o=e.call(this,i)||this).networks=((n={})[r.MAINNET]={blockchain:t.BITCOIN_CASH,network:r.MAINNET,path:"m/44'/145'/0'/0/0",config:k.mainnet},n[r.TESTNET]={blockchain:t.BITCOIN_CASH,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:k.testnet},n),o.networkConfig=o.networks[i].config,o.defaultPath=o.networks[i].path,o}return b(i,e),i.prototype.getAddressFromPublic=function(t,r){var i=e.prototype.getAddressFromPublic.call(this,t),n=u.toCashAddress(i);return"legacy"===r&&(n=i),"bitpay"===r&&(n=u.toBitpayAddress(n)),n},i}(w),I={bitcoin:y,litecoin:function(e){function i(i){var n,o;return(o=e.call(this,i)||this).networks=((n={})[r.MAINNET]={blockchain:t.LITECOIN,network:r.MAINNET,path:"m/44'/2'/0'/0/0",config:E.mainnet},n[r.TESTNET]={blockchain:t.LITECOIN,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:E.testnet},n),o.networkConfig=o.networks[i].config,o.defaultPath=o.networks[i].path,o}return b(i,e),i}(w),bitcoin_sv:S,bitcoin_cash:N,ethereum:function(e){function i(i){var n,o;return(o=e.call(this,i)||this).networks=((n={})[r.MAINNET]={blockchain:t.ETHEREUM,network:r.MAINNET,path:"m/44'/60'/0'/0/0",config:k.mainnet},n[r.TESTNET]={blockchain:t.ETHEREUM,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:k.testnet},n),o.networkConfig=o.networks[i].config,o.defaultPath=o.networks[i].path,o}b(i,e);var n=i.prototype;return n.getPublicFromPrivate=function(t){return f.addHexPrefix(e.prototype.getPublicFromPrivate.call(this,t.replace("0x",""),!1))},n.getPrivateKey=function(e){if(e.privateKey)return f.bufferToHex(e.privateKey);throw new Error("Invalid private key")},n.getPublicKey=function(e){return f.addHexPrefix(e)},n.getAddressFromPublic=function(e){var t=f.importPublic(Buffer.from(e.replace("0x",""),"hex")),r=f.publicToAddress(t),i=f.addHexPrefix(r.toString("hex")),n=f.toChecksumAddress(i);return f.addHexPrefix(n)},n.sign=function(e,t){var r=f.hashPersonalMessage(Buffer.from(e)),i=f.ecsign(r,Buffer.from(t.replace("0x",""),"hex"));return JSON.stringify({r:i.r.toString("hex"),s:i.s.toString("hex"),v:i.v})},n.checkSign=function(e,t,r){var i=JSON.parse(r);return f.isValidSignature(parseInt(i.v),Buffer.from(i.r,"hex"),Buffer.from(i.s,"hex"))},i}(w),eos:function(e){function i(i){var n,o;return(o=e.call(this,i)||this).networks=((n={})[r.MAINNET]={blockchain:t.EOS,network:r.MAINNET,path:"m/44'/194'/0'/0/0",config:k.mainnet},n[r.TESTNET]={blockchain:t.EOS,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:k.testnet},n),o.networkConfig=o.networks[i].config,o.defaultPath=o.networks[i].path,o}b(i,e);var n=i.prototype;return n.getPublicFromPrivate=function(e){return h.privateToPublic(e)},n.getPrivateKey=function(e){return h.PrivateKey(e.privateKey).toWif()},n.getPublicKey=function(e){return h.PublicKey(Buffer.from(e,"hex")).toString()},n.getAddressFromPublic=function(e){return e},n.sign=function(e,t){return h.sign(e,t)},n.checkSign=function(e,t,r){return h.verify(r,t,e)},i}(w),ripple:function(e){function i(i){var n,o;return(o=e.call(this,i)||this).networks=((n={})[r.MAINNET]={blockchain:t.RIPPLE,network:r.MAINNET,path:"m/44'/144'/0'/0/0",config:k.mainnet},n[r.TESTNET]={blockchain:t.RIPPLE,network:r.TESTNET,path:"m/44'/1'/0'/0/0",config:k.testnet},n),o.networkConfig=o.networks[i].config,o.defaultPath=o.networks[i].path,o}b(i,e);var n=i.prototype;return n.getAddressFromPublic=function(e,t){var r=p.deriveAddress(e);if("classic"===t)return r;var i=l.classicAddressToXAddress(r,!1,!1);if(void 0===i)throw new Error("Unknown error deriving address");return i},n.sign=function(e,t){var r=a.ECPair.fromWIF(t,this.networkConfig),i=c("sha256").update(e).digest("hex");if(r.privateKey)return p.sign(i,r.privateKey.toString("hex"));throw Error("Invalid private key")},n.checkSign=function(e,t,r){var i=c("sha256").update(t).digest("hex");return p.verify(i,r,e)},i}(w)};exports.Keys=function(){function e(e,t){if(!I[e])throw new Error("Blockchain "+e+" not implemented yet!");this.lib=new I[e](t)}var t=e.prototype;return t.getMasterFromSeed=function(e,t,r){var i=function(e,t){return n.mnemonicToSeedSync(e,t).toString("hex")}(e,r);return d({seedPhrase:e,seed:i},this.lib.getMasterAddressFromSeed(i,t))},t.isSeed=function(e){return void 0!==e.seedPhrase},t.isMasterPrivate=function(e){return void 0!==e.masterPrivateKey},t.generateSeedPhrase=function(e,t,r,o){void 0===t&&(t=i.ENGLISH);var a=function(e,t){void 0===t&&(t="english");var r=128;if(24===e)r=256;else if(12!==e)throw new Error("Wrong mnemonic length");return n.setDefaultWordlist(t),n.generateMnemonic(r)}(e,t);return this.getMasterFromSeed(a,r,o)},t.getDataFromSeed=function(e,t,r){return this.getMasterFromSeed(e,t,r)},t.derivateKeys=function(e,t){if(this.isSeed(e)){var r=this.getMasterFromSeed(e.seedPhrase,e.password);return this.lib.derivateFromPrivate(r.masterPrivateKey,t)}return this.isMasterPrivate(e)?this.lib.derivateFromPrivate(e.masterPrivateKey,t):this.lib.derivateFromPublic(e.masterPublicKey,t)},t.sign=function(e,t){return this.lib.sign(e,t)},t.getPublicFromPrivate=function(e){return this.lib.getPublicFromPrivate(e)},t.getAddressFromPublic=function(e,t){return this.lib.getAddressFromPublic(e,t)},t.checkSign=function(e,t,r){return this.lib.checkSign(e,t,r)},t.checkSeedPhrase=function(e){return n.validateMnemonic(e)},t.getDefaultPaths=function(){return this.lib.getPaths()},e}(),exports.Types=g;
//# sourceMappingURL=crypto-api-keys-lib.cjs.production.min.js.map
